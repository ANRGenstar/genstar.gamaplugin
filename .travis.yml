sudo: required
language: java
dist: trusty
jdk:
- oraclejdk8
before_install:
- rm ~/.m2/settings.xml
notifications:
  email: false
cache:
  directories:
  - "$HOME/.m2"
addons:
  apt:
    packages:
    - sshpass
    - oracle-java8-installer
  ssh_known_hosts:
  - 141.115.24.12
  sonarcloud:
    organization: "anrgenstar"
#    token:
#      secure: "$SONAR_TOKEN"
#      secure: "inljWF/hsyR2r/PNuKKLCL0y3LTq2U2HI4isy8/JZzRiWFEEsydf1BCvmRuzJN4ckI7M1Bs8E7J7J4GQAjWkcgNr8LdgEtFVMtBPSn8jnIFtlNoLwiE3j/vdgn8mpibwQZaaKWHNzEa1Ziav//+9qEUnb7Hq1IOOUSduZU1FRD1ipHoVu8Qhj3Z8hivEcOAb7NwQAqZqZFlLJYquodjGeuc6+FssgIj9is39KzpETz8C4Wzd9RVkbhDoCLipSmUvqV/5QGhaisvqSuw0wJGRCHSX6eF5k4MNxgEn1A1RL3VXG4AXhjj8E7Z97z9Fr17YciF/WT0fTJVexBVwEPv1QVrse06XEJ6TjmCGwkan4vQg1vmbAaBpuoFZlEOh/fz4BBYpyQG+hTt7sbWm2cfswVzo4EgP3oH8fheHTXXhDRnFWF7xp7jANOHyyz4yIoL1GQmmFHEr6Rx1LgLsLLNJAaDvYTecp+HiWdakMUCAC4aQTDj9dnIFpXX0KD+UOEtkN33dMYwiBvbODTQf2z3R5JU9B9GZKEno2Ux5fQigytWVRWzjppBe8Gqfkl0IJlM4J5yhZRxG9OjvYogOgGStl9Msgnt+zxxiX2HAtzs8RmXs8DfH7v+mdSOZgjDW9bpoyfrQ25gn3/I6IM7vJb+bhz723yvaBO1zW8mdeZEZQD8="
#      secure: "36cXfJIMDSeZGuWc0dRkQdWoaQDexPJYMnNWanBj7d3OVk3lq0PeZWm+nlBVy3Nzgsm1vkeXeFPHERaxc8vBoh2D94I5coSnWcwFf36AEBn7XFk8KawB+SJATY+iBtNeiRKVy7uwRjF5qMF9FDKIGmUbpy7UEE7wgL9S9NE3fG9HjniGgPhIEbojZWlALP89b99rdA+S7B1moF57OexflK82lRxxwkKKBkJB9h5itgpmraYBaQ3uR5XTDsN8ekrIcvwXIQ3PnFKHZFM2nbClwn9xEtDwvVfBO6fJM7Z6aSurFX/jm4J3DDoO+Om0jHJRj1RqTnQUK7ej+MJNNgLQLLAV2G/uVErWHC/HSptla0wkOa5Oh7HZ9OjNUUCwbc5OUte826U9VWNVzK8uTnkrJOsDh0HfNywVlm9DT8YB+RbZebyJD2eOkQR3qQsAZOJ1oIkVZ2YUuVD+V/s9pYmFIOqkZP2pYxldRVP6gthx0MK7mfUL0K1/iBnzabjITT1Y3cezjZQDOKBSrBDovKeVY+ugCz1T1ItHiwIeshBHfV55/A5RoT3AbLUudzKqNgeBhB1SYjXXJiKCpetaZMM2cIROjJAKt05lYYr+iXMuyWqQ5ATpFeHQrYbz/TbLuRYYWrbeOqrbazTE7KCmeofgnXHP/4Ct/M7OcoKDW8Mczkg="
script:
#- bash ./build.sh
- cd genstar.gamaplugin.parent
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.branch=master -Dsonar.login="$SONAR_TOKEN" -Dsonar.projectKey=ANRGenstar_genstar.gamaplugin
- cd -
after_success:
- echo -e "Host *\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
- export SSHPASS=$USER_PWD
- sh ./publish.sh
branches:
  only:
  - master
#dd:
#  secure: pe84NBWbsG4BZowaTTZK1wfXODiP8WxnWLs7IK5Gi/gxHEuy+WrUY3Y5q4MXJEh2Y6vF8b1X3iDLp+6MlURYZgJeUMll77ZU1fKWJdNg4ydEu5Awj+DWJdh8Zd8xclWc7i+AqswsKzEipUMoXHPy6mJVfEBB4Zh35qShGBs+gJs04tRr6W0WGoX+H8rPi9QjXoSOVoKLFJOBG0SP1G/lkBQsf6XC+GsidepvVOE2lxSUq9Amobxp0YxUt7O3GInfyOSxuEFtfdwY9hDIMny9APB2QR8xm66MPQLY7Muyu4PFU/rNaOHCMcPTOkbg+wSKK7tfYrcxf1wTY39VHUp9tfWsbrSIox5PZ/hrb/sx/qdSslT9CYptt+D6ly50ry3ZCrGoxqiBVVNB6+DMy9dkkePw5FGlMztrwGbl7WR+zvVgdzqNi6qb6EJ0Yo7Ad9A+ADSHSdQ7o1RtlyDiW8YLM99ALTf7plSjdreLI7FAOynBE6U8ea02SGfeDnIQFkWut+uJCwH2S5pzi3nd2ROQp6V24OiQ1NOuyJDbbLy2vY8ppusxF0PugC7FNkTJJsoBl07kPzq8rc9S+xBfxjgnhXWMTjtbJTrS8QyzqT99sLVhzCI4Ty4fsyAcvIXyCJrAdhqL5IdXBojlsNdYp+LaGiLeu7/4z0rl7pdmVE9S3Lg=
